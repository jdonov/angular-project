<div class="row container-fluid justify-content-center mt-5">
  <div class="col-xs-12 col-md-6 col-md-offset-3 card p-3 mb-5">
    <form [formGroup]="wineryForm" (ngSubmit)="onSubmit()">
      <div class="border-bottom mb-3">
        <h3 class="card-title text-dark" [textContent]="isRegisterMode ? 'Register winery' : 'Edit winery'"></h3>
      </div>
      <div class="form-group">
        <label for="name">Winery name</label>
        <input type="text" id="name" class="form-control" formControlName="name"/>
        <span *ngIf="wineryForm.get('name').touched && !wineryForm.get('name').valid">
          <small class="text-sm text-danger"
                 *ngIf="wineryForm.get('name').errors['required']">Name is required!</small>
      </span>
      </div>
      <div formGroupName="address">
        <div class="form-group">
          <label for="region">Region</label>
          <select class="form-control" id="region" formControlName="region">
            <option *ngFor="let region of regions; let i = index" [textContent]="region | removeUnderscore | titlecase" [attr.value]="region" [attr.selected]="region === selectedOption ? 'true' : null"></option>
          </select>
          <span *ngIf="wineryForm.get('address.region').touched && !wineryForm.get('address.region').valid">
            <small class="text-sm text-danger"
                   *ngIf="wineryForm.get('address.region').errors['required']">Region is required!</small>
          </span>
        </div>
        <div class="form-group">
          <label for="city">City</label>
          <input type="text" id="city" class="form-control" formControlName="city"/>
          <small class="text-sm text-danger"
                 *ngIf="wineryForm.get('address.city').touched && !wineryForm.get('address.city').valid">City is
            required!</small>
        </div>
        <div class="form-group">
          <label for="street">Street</label>
          <input type="text" id="street" class="form-control" formControlName="street"/>
          <small class="text-sm text-danger"
                 *ngIf="wineryForm.get('address.street').touched && !wineryForm.get('address.street').valid">Street is
            required!</small>
        </div>
      </div>
      <div class="form-group">
        <label for="imageUrl">Image URL</label>
        <input type="text" id="imageUrl" class="form-control" formControlName="imageUrl"/>
        <small class="text-sm text-danger"
               *ngIf="wineryForm.get('imageUrl').touched && !wineryForm.get('imageUrl').valid">Image URL is required!</small>
      </div>
      <div class="form-group">
        <label for="description">Description</label>
        <textarea rows="3" placeholder="Write your description here!" id="description" class="form-control" formControlName="description"></textarea>
        <small class="text-sm text-danger"
               *ngIf="wineryForm.get('description').touched && !wineryForm.get('description').valid">Description is required!</small>
      </div>
      <div class="d-flex justify-content-around mb-3">
        <button class="btn btn-light btn-sm" type="submit" [disabled]="!wineryForm.valid">Confirm</button>
        <button class="btn btn-light btn-sm" type="button" (click)="cancel()">Cancel</button>
      </div>
    </form>
  </div>
</div>

